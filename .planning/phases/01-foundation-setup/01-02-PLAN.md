---
phase: 01-foundation-setup
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/components/navigation.js
  - src/components/progress-bar.js
  - src/views/home.js
  - src/views/lesson.js
  - src/views/quiz.js
  - assets/styles/components.css
autonomous: true

must_haves:
  truths:
    - "User sees home page with all 7 lessons visible as cards"
    - "User can navigate between pages using forward/back buttons"
    - "User sees progress indicator showing position in learning path"
    - "All interactive elements are at least 48x48px"
    - "App displays correctly on mobile and tablet screens"
  artifacts:
    - path: "src/views/home.js"
      provides: "Home page with 7 lesson cards"
      exports: ["HomeView"]
    - path: "src/components/navigation.js"
      provides: "Navigation with forward/back buttons"
      exports: ["Navigation"]
    - path: "src/components/progress-bar.js"
      provides: "Progress indicator component"
      exports: ["ProgressBar"]
    - path: "src/views/lesson.js"
      provides: "Lesson view with navigation"
      exports: ["LessonView"]
  key_links:
    - from: "src/views/home.js"
      to: "src/services/router.js"
      via: "navigation to lessons"
      pattern: "router\\.navigate|location\\.hash"
    - from: "src/components/navigation.js"
      to: "src/services/state.js"
      via: "progress data"
      pattern: "state\\.get|completedLessons"
    - from: "src/views/lesson.js"
      to: "src/components/navigation.js"
      via: "component composition"
      pattern: "Navigation"
---

<objective>
Build the navigation system and views that allow users to browse all 7 lessons and navigate between pages with clear forward/back buttons and progress indicators.

Purpose: Fulfills NAV-01 through NAV-05 requirements. Users need clear navigation to move through the learning path.
Output: Complete navigable app with home page showing lesson grid, lesson/quiz placeholder views, and navigation components.
</objective>

<execution_context>
@C:\Users\Furby\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Furby\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-setup/01-RESEARCH.md
@.planning/phases/01-foundation-setup/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Navigation and ProgressBar components</name>
  <files>
    src/components/navigation.js
    src/components/progress-bar.js
    assets/styles/components.css
  </files>
  <action>
    Create src/components/navigation.js:

    Navigation component must:
    - Accept config object: { showBack: boolean, showNext: boolean, backUrl: string, nextUrl: string, currentStep: number, totalSteps: number }
    - Render a fixed bottom navigation bar (mobile-friendly pattern)
    - Include "Zurueck" (back) button with left arrow icon (use Unicode or text)
    - Include "Weiter" (next) button with right arrow icon
    - Buttons must be 48x48px minimum (touch-friendly NAV-05)
    - Show/hide buttons based on showBack/showNext flags
    - Include ProgressBar component between buttons
    - Use CSS classes for styling (no inline styles)
    - Return HTML string for rendering
    - Export function: Navigation(config) -> string

    Create src/components/progress-bar.js:

    ProgressBar component must:
    - Accept config: { current: number, total: number, label: string }
    - Render visual progress indicator showing current/total
    - Show "Schritt X von Y" label (German)
    - Use filled/unfilled segments or bar with percentage
    - Visually indicate completion level
    - Return HTML string
    - Export function: ProgressBar(config) -> string

    Update assets/styles/components.css to add:

    Navigation styles:
    - .nav-bar: fixed bottom, full width, flex layout, background white, shadow
    - .nav-btn: 48x48px minimum, centered content, visible focus state
    - .nav-btn--back, .nav-btn--next: positioned left/right
    - .nav-btn:disabled: greyed out appearance

    ProgressBar styles:
    - .progress-bar: flex container for segments
    - .progress-segment: individual step indicator
    - .progress-segment--completed: filled/colored state
    - .progress-segment--current: highlighted state
    - .progress-label: text showing "Schritt X von Y"

    Responsive adjustments:
    - Mobile: nav-bar full width at bottom
    - Tablet/Desktop: max-width container, centered
  </action>
  <verify>
    - Import Navigation in app.js temporarily
    - Render Navigation({ showBack: true, showNext: true, backUrl: '#/', nextUrl: '#/lesson/2', currentStep: 1, totalSteps: 7 })
    - Verify buttons appear at bottom of screen
    - Verify buttons are at least 48x48px (inspect in dev tools)
    - Verify progress shows "Schritt 1 von 7"
    - Test on mobile viewport (375px width in dev tools)
  </verify>
  <done>
    Navigation bar renders with back/next buttons (48x48px+), progress indicator shows step X of Y
  </done>
</task>

<task type="auto">
  <name>Task 2: Implement Home view with lesson grid</name>
  <files>
    src/views/home.js
    assets/styles/components.css
  </files>
  <action>
    Create src/views/home.js:

    HomeView must:
    - Accept container element and app state as parameters
    - Render page header with app title "KI und ich"
    - Render welcome message (placeholder for Kiki - Phase 2)
    - Render grid of 7 lesson cards using CSS Grid
    - Each lesson card must show:
      - Lesson number (1-7)
      - Lesson title (use German titles from PROJECT.md):
        1. Was ist KI?
        2. KI-Arten erklaert
        3. Was kann KI heute?
        4. KI im Alltag
        5. Mit KI sprechen
        6. Uebungen
        7. Erste App bauen
      - Visual state: locked/available/completed (based on state.completedLessons)
      - Click handler navigating to lesson via hash
    - Lesson cards must be 48x48px minimum touch target (they'll be larger visually)
    - Export function: HomeView(container, state) -> void (renders into container)

    Update assets/styles/components.css to add:

    Home page styles:
    - .home-header: centered title, spacing
    - .lesson-grid: CSS Grid with auto-fit, minmax(250px, 1fr) from RESEARCH.md
    - .lesson-card: card styling, border-radius, shadow, padding
    - .lesson-card--available: clickable appearance, hover effect
    - .lesson-card--completed: checkmark indicator, muted color
    - .lesson-card--locked: greyed out, lock icon (use emoji or text)
    - .lesson-number: large number display
    - .lesson-title: readable text

    Responsive behavior:
    - Mobile (< 600px): single column of cards
    - Tablet (600px+): 2 columns
    - Desktop (1200px+): 3+ columns (auto-fit handles this)

    For v1, all lessons should be "available" (not locked) - locking is Phase 5 feature.
  </action>
  <verify>
    - Navigate to /#/ (home)
    - See "KI und ich" title
    - See 7 lesson cards in responsive grid
    - Cards show lesson numbers 1-7 with correct German titles
    - Resize browser: cards reflow (1 col mobile, 2 col tablet, 3 col desktop)
    - Click lesson card: navigates to /#/lesson/1 (etc.)
    - Touch targets are at least 48x48px (inspect)
  </verify>
  <done>
    Home page shows 7 lesson cards in responsive grid, cards are clickable, responsive layout works
  </done>
</task>

<task type="auto">
  <name>Task 3: Implement Lesson and Quiz placeholder views with navigation</name>
  <files>
    src/views/lesson.js
    src/views/quiz.js
    src/app.js
  </files>
  <action>
    Create src/views/lesson.js:

    LessonView must:
    - Accept container, state, and params (with id) as parameters
    - Render lesson title based on ID (same titles as home page)
    - Render placeholder content: "Lektion [ID] Inhalt kommt in Phase 3"
    - Include Navigation component at bottom with:
      - showBack: true (goes to home or previous lesson)
      - showNext: true (goes to quiz for this lesson)
      - backUrl: previous lesson or home
      - nextUrl: quiz for current lesson (/#/quiz/[id])
      - currentStep: lesson number
      - totalSteps: 7
    - Export function: LessonView(container, state, params) -> void

    Create src/views/quiz.js:

    QuizView must:
    - Accept container, state, and params (with id) as parameters
    - Render quiz title: "Quiz: Lektion [ID]"
    - Render placeholder: "Quiz kommt in Phase 4"
    - Include Navigation component:
      - showBack: true (back to lesson)
      - showNext: true (forward to next lesson or home if lesson 7)
      - backUrl: /#/lesson/[id]
      - nextUrl: /#/lesson/[id+1] or /#/ for last quiz
      - currentStep: lesson number
      - totalSteps: 7
    - Export function: QuizView(container, state, params) -> void

    Update src/app.js:
    - Import HomeView, LessonView, QuizView
    - Import Navigation, ProgressBar (for potential global use)
    - Update routes to use real view functions:
      - '/': HomeView
      - '/lesson/:id': LessonView
      - '/quiz/:id': QuizView
    - Pass state to view functions

    Navigation flow:
    - Home -> Lesson 1 -> Quiz 1 -> Lesson 2 -> Quiz 2 -> ... -> Quiz 7 -> Home
    - Back buttons allow reverse navigation
    - Progress bar shows current position in 7-lesson journey
  </action>
  <verify>
    - Start at /#/ (home)
    - Click Lesson 1 card: shows lesson view with navigation
    - Progress shows "Schritt 1 von 7"
    - Click "Weiter": goes to Quiz 1
    - Click "Weiter": goes to Lesson 2
    - Click "Zurueck": returns to Quiz 1
    - Navigate through all 7 lessons and quizzes
    - After Quiz 7, "Weiter" returns to home
    - Back button on Lesson 1 returns to home
  </verify>
  <done>
    Complete navigation flow works: Home -> Lessons -> Quizzes -> Home, progress indicator updates correctly
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Test full navigation flow on desktop browser
2. Test on mobile viewport (375px) in dev tools
3. Test on tablet viewport (768px) in dev tools
4. Verify all touch targets are 48x48px minimum
5. Verify progress indicator updates on every page
6. Test browser back/forward buttons
</verification>

<success_criteria>
- [ ] Home page shows all 7 lessons in responsive grid (NAV-04)
- [ ] Navigation bar appears on all views with back/next buttons (NAV-01)
- [ ] Progress indicator shows position on every page (NAV-02)
- [ ] All buttons and cards are 48x48px minimum (NAV-05)
- [ ] App displays correctly on mobile, tablet, desktop (NAV-03)
- [ ] Complete navigation flow: Home -> Lesson -> Quiz -> next Lesson
- [ ] Browser back/forward buttons work correctly
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-setup/01-02-SUMMARY.md`
</output>
